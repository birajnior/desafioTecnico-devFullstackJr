<h1 class="mb-4">Gerenciar Usuários</h1>

<table class="table table-dark table-striped align-middle">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Email</th>
            <th>Admin</th>
            <th>Supervisor</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        <% usuarios.forEach(usuario=> { %>
            <tr>
                <td>
                    <%= usuario.nome %>
                </td>
                <td>
                    <%= usuario.email %>
                </td>
                <td>
                    <%= usuario.ehAdmin ? "✅ Sim" : "❌ Não" %>
                </td>
                <td>
                    <%= usuario.ehSupervisor ? "✅ Sim" : "❌ Não" %>
                </td>
                <td class="d-flex gap-2">
                    <form action="/users/<%= usuario.id %>/role" method="POST" class="d-inline">
                        <input type="hidden" name="ehAdmin" value="<%= !usuario.ehAdmin %>" />
                        <input type="hidden" name="ehSupervisor" value="<%= usuario.ehSupervisor %>" />
                        <button type="submit"
                            class="btn btn-sm <%= usuario.ehAdmin ? 'btn-outline-danger' : 'btn-success' %>">
                            <%= usuario.ehAdmin ? "Remover Admin" : "Tornar Admin" %>
                        </button>
                    </form>

                    <form action="/users/<%= usuario.id %>/role" method="POST" class="d-inline">
                        <input type="hidden" name="ehAdmin" value="<%= usuario.ehAdmin %>" />
                        <input type="hidden" name="ehSupervisor" value="<%= !usuario.ehSupervisor %>" />
                        <button type="submit"
                            class="btn btn-sm <%= usuario.ehSupervisor ? 'btn-outline-danger' : 'btn-outline-success' %>">
                            <%= usuario.ehSupervisor ? "Remover Supervisor" : "Tornar Supervisor" %>
                        </button>
                    </form>
                </td>
            </tr>
            <% }) %>
    </tbody>
</table>